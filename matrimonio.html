<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matrimonio di [Nomi]</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        .hero-section {
            height: 100vh;
            background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('https://cdn.pixabay.com/photo/2014/11/13/17/04/heart-529607_1280.jpg') no-repeat center center/contain;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .hero-title {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .hero-date {
            font-size: 1.5rem;
            margin-bottom: 2rem;
            font-style: italic;
        }

        .story-section {
            padding: 2rem;
            background-color: #f8f9fa;
            text-align: center;
        }

        .story-title {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .story-content {
            font-size: 1.2rem;
            color: #6c757d;
            line-height: 1.8;
            visibility: hidden;
            white-space: pre-wrap;
        }

        .details-section {
            padding: 2rem;
            background-color: #ffffff;
            text-align: center;
        }

        .details-title {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 2rem;
        }

        .detail-item {
            margin-bottom: 2rem;
        }

        .detail-item img {
            width: 300px;
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .detail-item h3 {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .detail-item p {
            font-size: 1.2rem;
            color: #333333;
        }
        .form-section {
    padding: 2rem;
    background-color: #f8f9fa;
    text-align: center;
    margin-top: 4rem;
}


        .form-title {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .form-control {
            margin-bottom: 1rem;
        }

        .responses-section {
            margin-top: 2rem;
            background-color: #ffffff;
            padding: 1rem;
            border-radius: 8px;
        }

        .responses-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .response {
            font-size: 1.2rem;
            color: #333;
        }
        .form-section {
    display: block;
}

    </style>
</head>
<body>
    <div class="hero-section">
        <div>
            <h1 class="hero-title">Il Nostro Grande Giorno</h1>
            <p class="hero-date">25 Giugno 2024</p>
        </div>
    </div>

    <div class="story-section" id="story">
        <h2 class="story-title">La Nostra Storia</h2>
        <p class="story-content" id="storyContent">
            Era una sera d'estate, quando Marco ha rovesciato il suo gelato al pistacchio proprio sulle scarpe nuove di Giulia. Lei, furiosa, lo ha chiamato "l'imbranato del secolo". Lui, senza perdersi d'animo, ha risposto: "Beh, almeno non hai ancora visto come ballo!". E così, da quel disastro dolce e appiccicoso, è nata una delle storie d'amore più improbabili e straordinarie.
            Anni dopo, tra risate, viaggi indimenticabili e qualche discussione su come stendere il bucato (spoiler: Marco non ha ancora capito come si fa), Giulia ha finalmente detto "sì" alla proposta più romantica di sempre. Una cena sotto le stelle, un anello nascosto in una fetta di torta (sì, Giulia ha quasi rischiato di mangiarlo), e un "Vuoi sposarmi?" sussurrato con il cuore in mano.
            E ora, eccoci qui, pronti a celebrare il loro amore con voi. Preparate i fazzoletti, perché questo matrimonio sarà pieno di emozioni, risate e, forse, un altro gelato al pistacchio.
        </p>
    </div>

    <div class="details-section" id="details">
        <h2 class="details-title">Ecco tutto sul nostro giorno</h2>
        
        <div class="detail-item">
            <img src="https://cdn.pixabay.com/photo/2015/05/31/14/23/organizer-791939_1280.jpg" alt="Calendario">
            <h3>Quando sarà?</h3>
            <p>25 Giugno 2024, un giorno da segnare con il pennarello rosso! (E magari programmare la sveglia...)</p>
        </div>

        <div class="detail-item">
            <img src="https://cdn.pixabay.com/photo/2018/08/20/19/10/castle-3619698_1280.jpg" alt="Villa">
            
            <h3>Dove si celebra?</h3>
            <p>Alla splendida Villa dei Fiori, dove anche gli alberi sembrano applaudire!</p>
        </div>

        <div class="detail-item">
            <img src="https://cdn.pixabay.com/photo/2018/11/07/14/43/princess-3800530_1280.jpg" alt="Dress Code">
            <h3>Come vestirsi?</h3>
            <p>Elegante ma comodo: ricordatevi di lasciare spazio per il banchetto!</p>
        </div>

        <div class="detail-item">
            <img src="https://cdn.pixabay.com/photo/2015/01/25/21/02/phone-612061_1280.jpg" alt="Contatti">
            <h3>Dubbi o domande?</h3>
            <p>Scrivete a Giulia (333-1234567) o Marco (333-7654321). Siamo qui per voi!</p>
        </div>

    </div>
    <div class="form-section">
        <h2 class="form-title">Modulo Intolleranze</h2>
        <form id="intoleranceForm">
            <input type="text" class="form-control" id="name" placeholder="Nome">
            <input type="text" class="form-control" id="surname" placeholder="Cognome">
            <textarea class="form-control" id="intolerances" placeholder="Inserisci eventuali intolleranze" rows="3"></textarea>
            <button type="button" class="btn btn-primary" onclick="submitForm()">Invia</button>
        </form>
        
        <div class="responses-section">
            <h3 class="responses-title">Risposte Ricevute</h3>
            <div id="responsesList"></div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
    // Recupera le risposte salvate nel localStorage o inizializza un array vuoto
    const responses = JSON.parse(localStorage.getItem("responses")) || [];

    function submitForm() {
        const name = document.getElementById("name").value.trim();
        const surname = document.getElementById("surname").value.trim();
        const intolerances = document.getElementById("intolerances").value.trim();

        if (name && surname) {
            // Aggiungi la nuova risposta
            responses.push({ name, surname, intolerances });

            // Salva le risposte nel localStorage
            localStorage.setItem("responses", JSON.stringify(responses));

            // Aggiorna la lista visibile
            updateResponses();

            // Resetta il modulo
            document.getElementById("intoleranceForm").reset();
        } else {
            alert("Per favore, inserisci sia il nome che il cognome.");
        }
    }

    function updateResponses() {
        const responsesList = document.getElementById("responsesList");
        responsesList.innerHTML = "";

        responses.forEach((response, index) => {
            const responseDiv = document.createElement("div");
            responseDiv.className = "response";
            responseDiv.innerHTML = `<strong>${index + 1}. ${response.name} ${response.surname}</strong>: ${response.intolerances || "Nessuna intolleranza"}`;
            responsesList.appendChild(responseDiv);
        });
    }

    function isAdmin() {
        const params = new URLSearchParams(window.location.search);
        return params.get("admin") === "true"; // Controlla il parametro ?admin=true
    }

    function toggleResponsesVisibility() {
        const responsesSection = document.getElementById("responses");
        if (isAdmin()) {
            responsesSection.style.display = "block"; // Mostra le risposte per l'admin
        } else {
            responsesSection.style.display = "none"; // Nasconde le risposte per gli altri utenti
        }
    }

    // Inizializza la visibilità delle risposte e aggiorna la lista
    document.addEventListener("DOMContentLoaded", () => {
        toggleResponsesVisibility();
        updateResponses(); // Mostra le risposte salvate nel localStorage
    });
</script>


</body>
</html>

